<!DOCTYPE html>
<!-- From this alone we know that the databinding is working appropriately -->
<html>
    <head>

        <script src="databind.js" defer></script>
<script>

// let data = {
//     "telephone": "123456",
//     "address": "abc"
// } 


let data = JSON.parse( sessionStorage.getItem("data") );

// Currently written in this way, the file is fetched after the webpage has loaded
// We'll need to add in extra code in order for this to be updated and presented through our dataBind functionality.
fetch('https://dummyjson.com/users/1')
    .then(result => result.json()) //This line tells us what to do with the result
    // .then(function(result){return result.json()})
    .then(function(details){
        console.log(details);
        // console.log(Object.keys(details))
        console.log(details.address.address)
        data=details; 
        dataBind.display()});

    // .then(details => console.log(details), data=details, dataBind.display()); 
    // This line is about how we want to present the results

    // for(let key of Object.keys(person)){
    // console.log(key, typeof person[key]);}
    
    // The following code lets you call out specific elements such as the value of city is Washington for this dataset (when run from the command line):

    // let field = data;
    // "address.city".split(".").forEach(function(item){
    // console.log(field) 
    // field=field[item]});

    // Note: console.log(field) shows us that these lines of code are executing a recursion process
    
</script>

    </head>

<script>

</script>

    </head>
    <body>
        
        <h1>Display Data</h1>
        <!-- <p>Telephone: <span data="telephone"></span></p>
        <p>Address: <span data="address"></span></p> -->

        <!-- console.log(data); -->
        <!-- Note that the data in the console webpage log is not the same as what displays from this command. -->

        <p>Age: <span data="age"></span></p>
        <p>Forename: <span data="firstName"></span></p>
        <p>Eye Colour: <span data="eyeColor"></span></p>

        <!-- You need to need to know how to go in and check for each item -->
        <p>Address: <span data="address.city"></span></p>

        <p>Coordinates Lattitude: <span data="address.coordinates.lat"></span></p>

        <p>Company Lattitude: <span data="company.address.coordinates.lat"></span></p>

    </body>
</html>













